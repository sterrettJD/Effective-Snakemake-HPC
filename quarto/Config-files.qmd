---
title: "Using Config Files"
---

# What is a config file?

Config files in Snakemake workflows are used to store and manage configuration parameters separately from the workflow script. Typically written in YAML format, these files contain key-value pairs representing various parameters such as file paths, resource requirements, and other settings that control the behavior of the workflow. 

# Why do we use config files?

Config files in Snakemake help us separate configuration details from the workflow script. This separation enhances portability, allowing workflows to be easily adapted to different environments. Config files contribute to reproducibility by capturing essential parameters, while also offering flexibility, maintainability, and a means to secure sensitive information such as file paths.

Config files also enhance workflow readability and modifiability. For example, if you'd like to change the parameters for trimming sequencing reads, you can find those parameters more easily in the config file, compared to searching through the snakefile for the parameters.

# Using a config file 
## Passing a config file to Snakemake
To run Snakemake with a config file, pass it after the flag `--config` in your Snakemake command, as such: `snakemake --cores 1 --config config.yaml`.

## Format
Config files should be YAML-formatted. Here is an example:
``` yaml
# Input data file
input_file: data/input.txt

# Output directory
output_file: data/processed_file.txt

# Parameters for a specific rule
specific_rule_params:
  param1: value1
  param2: value2
  
# Number of threads to use for a specific rule
specific_rule_threads: 1
```

## Snakefile

If the config filepath is passed to Snakemake, it will automatically be read into your snakefile as a dictionary object named `config`. The below example shows how you can use this config dictionary in your rules. I recommend not trying to access exact components of the config file inside your `shell` command (or `run` command), but instead making those components params that can be accessed more traditionally.

``` snakemake
rule all:
    input:
        config["output_file"]

# Rule to process the input file
rule specific_rule:
    input:
        config["input_file"]
    output:
        config["output_file"]
    threads: config["specific_rule_threads"]
    params:
        param1=config["specific_rule_params"]["param1"],
        param2=config["specific_rule_params"]["param2"]
    shell:
        """
        cp {input} {output}
        echo {params.param1} >> {output}
        echo {params.param2} >> {output}
        """
```

### Safely handling config params

